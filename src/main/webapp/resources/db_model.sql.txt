USE DAPPAD;

DROP TABLE note;

CREATE TABLE note ( 
ID INT NOT NULL AUTO_INCREMENT, 
TITLE VARCHAR(250), 
TEXT VARCHAR(3000), 
NOTEBOOK_ID INT, 
USER_ID INT,
CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL, 
PRIMARY KEY (ID));

DROP TABLE notebook;

CREATE TABLE notebook ( 
ID INT NOT NULL AUTO_INCREMENT, 
ISDEFAULT BOOLEAN DEFAULT FALSE, 
TITLE VARCHAR(250), 
USER_ID INT,
CREATED TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL, 
PRIMARY KEY (ID));

DROP TABLE user_role;

CREATE TABLE user_role (   
id INT(11) NOT NULL AUTO_INCREMENT,   
user_id int NOT NULL,   
ROLE VARCHAR(45) NOT NULL,   
PRIMARY KEY (id),   
UNIQUE KEY uni_username_role (ROLE,user_id),   
KEY fk_username_idx (user_id),   
CONSTRAINT fk_username FOREIGN KEY (user_id) REFERENCES user (id));

DROP TABLE user;

CREATE  TABLE user (
id int not null AUTO_INCREMENT,
username VARCHAR(45) NOT NULL ,
password VARCHAR(60) NOT NULL ,
enabled TINYINT NOT NULL DEFAULT 1 ,
PRIMARY KEY (id)
);


